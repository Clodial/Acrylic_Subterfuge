#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include "level.h"
#include "entity.h"
/******
*	Levels are chosen randomly from the start
******/

/******
*
*	Level Value Denominators
*	1 = Wall
*	2 = Player
*	8 = Spawn
*
******/
//extern int menu;
int lvlMode;
int *lvl[11][11];
int *eBack[11][11];

int *c1[11][11] ={
	//The Box
	{0,0,0,0,0,0,0,0,0,0,0},
	{0,8,0,0,0,0,0,0,0,8,0},
	{0,0,1,1,0,0,0,1,1,0,0},
	{0,0,1,8,0,0,0,8,1,0,0},
	{0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,2,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0},
	{0,0,1,8,0,0,0,8,1,0,0},
	{0,0,1,1,0,0,0,1,1,0,0},
	{0,8,0,0,0,0,0,0,0,8,0},
	{0,0,0,0,0,0,0,0,0,0,0},
};
int *c2[11][11] ={
	//The Cyclone
	{8,0,0,0,0,0,0,0,0,0,0},
	{0,8,0,0,0,0,0,0,0,8,0},
	{1,1,1,1,0,0,0,0,1,0,0},
	{0,0,0,1,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,2,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,1,0,0,0},
	{0,0,0,1,0,0,0,1,1,1,1},
	{0,0,8,0,0,0,0,0,0,8,0},
	{0,0,0,0,0,0,0,0,0,0,8}
};
int *c3[11][11] ={
	//Trolls under the Bridge
	{0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,8,0,0,0,8,0,0,0},
	{0,0,0,0,0,8,0,0,0,0,0},
	{0,0,0,1,1,1,1,1,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0},
	{8,0,0,0,0,2,0,0,0,0,8},
	{0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,1,1,1,1,1,0,0,0},
	{0,0,0,0,0,8,0,0,0,0,0},
	{0,0,8,0,0,0,0,0,8,0,0},
	{0,0,0,0,0,0,0,0,0,0,0}
};
int *c4[11][11] ={
	//The field
	{0,0,0,0,0,0,0,0,0,0,8},
	{0,8,0,0,0,0,0,0,0,0,0},
	{0,0,1,1,1,0,0,0,0,0,1},
	{0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,2,1,0,0,0,0},
	{0,0,1,1,0,0,1,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0},
	{0,0,8,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,1,1,0,0,0,8}
};

/******
*
*	Effect Board
*	Regular status: moves to the left
*	1 -> 4px
*	2 -> 8px
*	3 -> 16px
*	4 -> 2px
*
******/

int *e1[11][11] ={
	{1,0,3,1,0,4,1,0,2,1,0},
	{0,0,0,3,0,0,0,3,0,0,0},
	{0,1,0,4,0,2,0,0,2,0,0},
	{1,0,3,1,0,4,1,0,2,1,0},
	{0,0,0,3,0,0,0,3,0,0,0},
	{0,1,0,4,0,2,0,0,2,0,0},
	{1,0,3,1,0,4,1,0,2,1,0},
	{0,0,0,3,0,0,0,3,0,0,0},
	{0,1,0,4,0,0,0,3,0,0,0},
	{1,0,3,1,0,4,1,0,2,1,0},
	{0,0,0,1,0,0,2,0,0,0,4}
};
int *e2[11][11] ={
	{2,0,4,0,0,3,0,0,2,0,0},
	{0,1,0,3,0,2,0,0,4,0,1},
	{2,0,4,0,0,3,0,0,2,0,0},
	{0,1,0,3,0,2,0,0,4,0,1},
	{2,0,4,0,0,3,0,0,2,0,0},
	{0,1,0,3,0,2,0,0,4,0,1},
	{2,0,4,0,0,3,0,0,2,0,0},
	{0,1,0,3,0,2,0,0,4,0,1},
	{2,0,4,0,0,3,0,0,2,0,0},
	{0,1,0,3,0,2,0,0,4,0,1},
	{2,0,4,0,0,3,0,0,2,0,0}
};
int *e3[11][11] ={
	{1,0,0,1,0,0,0,1,0,0,1},
	{0,1,0,3,0,2,0,3,0,1,0},
	{0,0,4,0,0,3,0,0,4,0,0},
	{0,1,0,0,2,0,2,0,0,0,4},
	{0,0,3,2,0,0,0,0,2,3,0},
	{4,0,0,0,0,4,0,0,0,0,4},
	{0,0,3,2,0,0,0,0,2,3,0},
	{0,1,0,0,2,0,2,0,0,0,4},
	{0,0,4,0,0,3,0,0,4,0,0},
	{0,1,0,3,0,2,0,3,0,1,0},
	{1,0,0,1,0,0,0,1,0,0,1}
};

void InitLvl(){

	int ilvl,ieff;
	time_t t;

	srand((unsigned) time(&t));
	ilvl = (rand()%4);
	ieff = (rand()%3);
	printf("ilvl: %i ieff: %i\n",ilvl,ieff);
	if(ilvl == 0){
		memcpy(lvl, *c1,sizeof(c1));
	}else if(ilvl == 1){
		memcpy(lvl, *c2,sizeof(c2));
	}else if(ilvl == 2){
		memcpy(lvl, *c3,sizeof(c3));
	}else if(ilvl == 3){
		memcpy(lvl, *c4,sizeof(c4));
	}else{
		memcpy(lvl, *c1,sizeof(c1));
	}

	if(ieff == 0){
		memcpy(eBack, *e1,sizeof(e1));
	}else if(ieff == 1){
		memcpy(eBack, *e2,sizeof(e2));
	}else if(ieff == 2){
		memcpy(eBack, *e3,sizeof(e3));
	}else{
		memcpy(eBack, *e1,sizeof(e1));
	}
}